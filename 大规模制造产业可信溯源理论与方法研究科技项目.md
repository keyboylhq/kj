# 大规模制造产业可信溯源理论与方法研究科技项目

## 课题三:大规模制造产品全生命周期数据实时追溯及可监管隐私保护技术

### 大规模制造环境下数据可信追溯构件开发:

#### 构件开发的总体要求:

​	在大规模制造环境下，制造产业链的不同环节、不同厂商之间遵循不同的标识数据管理标准，基于区块链的多源异构全域标识数据管理架构为大规模制造环境下产品全生命周期数据建立统一的数据管理模型，对标识数据实现统一快速定位与高效寻址，实现标识数据的快速定位，构建标识寻址构件，实现面向生产数据的标识寻址功能。大规模制造环境下数据体量大，以标识寻址构件为基础，结合产品全生命周期标识关联实时溯源机制，从数据关联追溯和实时数据获取两方面出发，研发实时追溯构件，实现大规模制造环境下产品全生命周期数据的实时追溯和获取。大规模制造环境下标识数据存在隐私性，在数据共享的过程中对其隐私进行保护，同时向可信监管方提供穿透式监管审计机制，实现监管方对区块链上标识数据的可信监管与溯源，研发可监管隐私保护构件，在基于区块链的多源异构全域标识数据协同共享模型的指导下实现可监管隐私保护。

![image-20230308111910955](C:\Users\huangjialong\AppData\Roaming\Typora\typora-user-images\image-20230308111910955.png)

![image-20230308113155973](C:\Users\huangjialong\AppData\Roaming\Typora\typora-user-images\image-20230308113155973.png)

**[构件接口规范](C:\Users\huangjialong\Desktop\科技项目课题3\构件模板.docx)**

#### 1 : 标识寻址构件

**主要功能：**

面向大规模制造业场景下产品全生命周期所产生的海量异构数据，**以产品生产、流通、服务等多环节的业务流程逻辑和制造业产品全生命周期海量异构数据的内部关联为基础**，构建起面向全生命周期异构数据的可信标识算法，对产品全生命周期数据产生唯一性标识，并以标识为基础，通过研究面向层次链架构数据及所映射可信标识的分布式索引算法，建立基于层次链架构的数据通用寻址模型并结合面向标识数据的映射解析算法，从而实现对海量异构层次化数据的高效寻址定位。

**需求 :** 

1. 功能：标识生成

输入：结构化数据，以J son为主要数据格式，必须包含字段：

(1) 数据存在的子链ID，

(2) 数据责任主体如生产数据对应生产厂商，销售数据对应销售商等

(3) 数据责任主体内部的数据编码（如产品E CODE，OID编码、单据号等），

(4) 其他字段可按需添加，不影响标识生成过程。

输出：根据数据内容产生数据标识（hash）



2. 功能：标识解析

输入：数据标识

输出：结构化数据，以J son为主要数据格式，内容与功能1的输入一致。



3. 功能：取得详细信息的URL

输入：数据标识，数据存在的子链ID

输出：链下存储的该数据标识对应的详细信息的URL。



4. 功能：数据责任主体内部的数据编码对应的数据标识

输入：数据责任主体，数据责任主体内部的数据编码

输出：数据标识。

**实现 :**

```java

```

#### 2 : 实时追溯构件

**主要功能:**

**以面向大规模制造业场景下产品全生命周期数据定位与标识寻址技术为基础，结合数据标识中所包含产品全生命数据间关联关系**，研究数据标识关联解析算法，实现**基于数据关联关系的标识数据高效解析**，并结合标识寻址及获取算法，以可信标识为基础，实现可信标识向全生命周期数据映射关系的高效解析，并以此为基础，**结合数据权限管理机制和层次链深层追溯算法**，构建起全生命周期数据高效实时溯源模型，从而实现面向全生命周期标识数据的解析和分层级实时追溯。

**需求 :** 

1. 功能：获取直接子件数据标识

输入：母件数据标识，子件品类（可选）

输出：直接子件数据标识，当未指定子件品类时，返回所有直接子件数据标识



2. 功能：获取直接母件数据标识

输入：子件数据标识

输出：直接母件数据标识，当子件数据标识含有批次信息时，返回所有直接母件数据标识



3. 功能：获取间接子件数据标识

输入：母件数据标识，子件品类

输出：间接子件数据标识

说明：迭代调用功能1



4. 功能：获取间接母件数据标识

输入：子件数据标识，母件品类

输出：间接母件数据标识，当子件数据标识含有批次信息时，返回所有间接母件数据标识

说明：迭代调用功能2



5. 功能：获取某时间段同种产品品类的数据标识集合

输入：数据责任主体，产品品类，开始时间，结束时间

输出：所有该数据责任主体产品品类的数据标识



6. 功能：获取某时间段同种母件品类的子件数据标识集合

输入：数据责任主体母件品类，开始时间，结束时间，子件品类

输出：所有该数据责任主体母件品类的子件数据标识

说明：迭代调用功能5和功能3



7. 功能：获取某时间段数据责任主体同种子件品类的母件数据标识集合

输入：数据责任主体，子件品类，开始时间，结束时间，母件品类

输出：所有该子件品类的母件数据标识

说明：迭代调用功能5和功能4



8. 功能：获取某数据标识的相关数据标识

输入：数据标识，信息类型（可选，若有，则必须是“制造/运输/销售/供应”的一种）

输出：该数据标识的相关数据标识，当未指定信息类型时，返回所有相关数据标识



9. 功能：数据标识详细数据查询

输入：数据标识

输出：该数据标识的详细数据



#### 3 : 可监管隐私保护构件

**主要功能:**

在面向大规模制造业全生命周期数据的溯源过程中，以被溯源目标数据的隐私需求差异性为前提，**研究监管友好的数据分级隐私保护方法**，对不同的溯源目标提供适当的隐私保护机制，除溯源目标外，面向溯源过程中溯源参与者，构建起基于隐私保护的数据访问控制机制，在提供访问控制的前提下，避免因身份泄露导致的隐私问题。除此以外，面向所构建隐私保护机制提供多方协作的决策治理模型，从而实现对隐私保护过程的公开监管和审计。

**需求 :** 

1. 功能：多监管者授权

输入：某一监管者请求监管某一企业的相关数据（监管的目标数据）

输出：该监管者收到一定数量（>=k）的授权凭证后即可计算出监管授权证明，输出监管授权证明。倘若接收到的授权凭证不够（<k），监管部门通知该监管者，不执行监管。

 

2. 功能：数据属性加密

输入：隐私数据的明文，以及该数据的访问对象的属性

输出：隐私数据的密文

 

3. 功能：监管溯源请求

输入：监管授权凭证、监管者属性证书

输出：合格，则允许溯源。否则，拒绝监管溯源，并通知该监管者证明材料不足